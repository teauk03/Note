# 쿠키 
![alt text](<../설명사진/[응용계층] - 쿠키.png>)
* `클라이언트(브라우저)에` `작은 {이름. 값} 형태`로 저장되는 데이터 조각
    * 적용 범위, 만료 기간 같은 다양한 속성을 가진 한 쌍
* 브라우저는 그 데이터 조각들을 저장해 놓았다가, 동일한 서버에 재 요청 시 저장된 데이터를 함께 전송함
* `상태가 없는(stateless) HTTP 프로토콜`에서 상태 정보를 기억시켜줌

<br></br>

## 구조
```shell
# 기본 구조
Set-Cookie: name=value

# 속성이 추가된 구조
Set-Cookie: name=value; 속성1; 속성2;

# 예시
Set-Cookie: name=value; Path=/; Expires=Wed, 09 Aug 2025 10:00:00 GMT; HttpOnly; Secure
# name=value: 쿠키의 키와 값
# Path: 어떤 경로에 이 쿠키가 유효한지
# Expires: 만료 시각 (지나면 삭제)
# HttpOnly: JS에서 접근 못하게 보호
# Secure: HTTPS 연결에서만 전송

```


<br></br>

## 동작 과정
* 로그인 프로세스 예시

1. **로그인 페이지 요청**
![alt text](<../설명사진/[응용 게층] 쿠키의 동작 과정 (로그인 페이지 요청).png>)
    * 클라이언트가 `/login` 경로로 `GET 요청`
    * 서버는 `login.html 반환 (200 OK)`
    * 이 시점까지 쿠키 없음 
2. **로그인 서비스 요청**
![alt text](<../설명사진/[응용 게층] 쿠키의 동작 과정 (로그인 요청).png>)
    * 사용자가 아이디/비밀번호 입력 후 `POST /login 요청`
    * 서버는 DB에 ID/PW 확인 후 로그인 성공
    * 응답에 `Set-Cookie: session_id=abc123; ... 헤더` 포함하여 세션 쿠키 발급
3. **인증된 상태에서 요청**
![alt text](<../설명사진/[응용 게층] 쿠키의 동작 과정 (:dashboard 페이지로 이동).png>)
    * 클라이언트가 `/dashboard`에 접근
    * 자동으로 `Cookie: session_id=abc123` 포함됨
    * 서버는 <U>세션 ID로 로그인 상태 확인 → 정상 응답 반환</U>