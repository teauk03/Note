# 1. 네트워크 계층의 IP의 한계
* IP는 신뢰할 수 없는 통신, 비연결형 통신을 수행한다는 한계가 존재함

<br></br>

## 1.1. 비연결형 통신의 문제
![alt text](<../설명사진/[전송계층]비연결형 통신.png>)
* **비연결형 통신?:** 송수신 호스트 간에 사전 연결 수립 작업을 거치지 않고 송신지 쪽에서 수신지를 향해 그저 패킷을 보내는 작업을 의미 함
* 수신지 컴퓨터에 어떤 프로세스에 보내야 할지 모름
    * 포트 계념 X

<br></br>

## 1.2. 신뢰성 부족
![alt text](<../설명사진/[전송계층 최선형 전송].png>)
* IP는 최선형 전송(best-delivery)을 가짐
    * 패킷의 중복 검열, 유실 복구, 순서 보장X 없이 일단 보내는 것에 최선이라는 것이 함정
* 때문에 데이터 전송의 품질을 보장할 수 없다는 문제를 가짐 = 신뢰성 X

<br></br>

## 1.3. 공인 IP 부족 문제  (NAPT의 필요성)
* 인터넷에 연결되는 모든 장치는 공인 IP를 가져야 하지만, IPv4 주소가 부족
* 이를 해결하기 위해 **NAPT(Network Address Port Translation)** 기술이 탄생함
![alt text](<../설명사진/[전송 계층] NAPT.png>)
    * 여러 내부dh IP 주소를 하나의 공인 IP로 변환하여 인터넷에 접속 가능하게 함
    * 포트 번호를 이용해 여러 장치의 트래픽을 구분
    * 네트워크 보안과 관리에도 유리함



<br></br>

# 2. 전송 계층에서의 보안 
* 위 문제를 보면 전송 계층에서 보안해야할 점이 보임
* IP의 한계점인 통신의 신뢰성을 보장할 어떠한 조치가 필요하고, 연결성 통신을 지원하면 됨
* 주요 프로토콜은 TCP, UDP를 사용

<br></br>

## 2.1. 연결형 통신
![alt text](<../설명사진/[전송 계층] 연결형 통신.png>)
* 전송 계층에선 통신을 시작하기 전에 수신자와 수신자 간의 연결(세션)을 먼저 설정함
    * 때문에 안정적인 데이처 통신이 가능 함
* 여기서 3-Way Handshake 과정을 거침


<br></br>

## 2.2.신뢰성 있는 통신
* 연결이 수립된 후, 패킷이 안전하게, 정확하게, 순서대로, 중복 없는 형태 등등 으로 전달되도록 많은 보안 기능을 적용함
* 위와 같은 기능으로 신뢰성 있는 통신을 전송 계층에선 담당함

<br></br>

## 2.3.포트 (Port)
![alt text](<../설명사진/[전송 계층]카톡 포트.png>)
* IP는 어떤 컴퓨터에 보낼 것인지 알려주는 식별 번호라면, 이 포트는 그 어떤 <U>컴퓨터의 어떤 프로세스에게 보내주는 식별 번호</U>

| 포트 범위            | 이름                     | 설명                                                                 | 사용 예시 및 특징                                      |
|---------------------|--------------------------|----------------------------------------------------------------------|--------------------------------------------------------|
| 0 ~ 1023            | 잘 알려진 포트 (Well-Known Ports)         | IANA가 표준 네트워크 서비스용으로 지정한 포트                        | HTTP(80), HTTPS(443), SSH(22), DNS(53), SMTP(25) 등     |
| 1024 ~ 49151        | 등록된 포트 (Registered Ports)         | 특정 애플리케이션이 IANA에 등록하여 사용하는 포트                   | MySQL(3306), PostgreSQL(5432), HTTP 대체 포트(8080) 등 |
| 49152 ~ 65535       | 동적/사설/임시 포트  | 클라이언트가 서버와 통신 시 자동으로 사용하는 임시 포트             | 웹 브라우저, FTP 클라이언트 등이 일시적으로 사용        |